{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/GoMart/lib/mongoose.js"],"sourcesContent":["// lib/mongoose.ts\r\nimport mongoose from 'mongoose'\r\n\r\nconst MONGODB_URI = process.env.MONGODB_URI\r\nconsole.log(\"MONGODB_URI\" , MONGODB_URI);\r\n\r\nif (!MONGODB_URI) {\r\n  throw new Error('Please define the MONGODB_URI environment variable')\r\n}\r\n\r\nlet cached = (global).mongoose || { conn: null, promise: null }\r\n\r\nasync function dbConnect() {\r\n  if (cached.conn) return cached.conn\r\n\r\n  if (!cached.promise) {\r\n    cached.promise = mongoose.connect(MONGODB_URI, {\r\n      bufferCommands: false,\r\n    })\r\n  }\r\n\r\n  cached.conn = await cached.promise\r\n  return cached.conn\r\n}\r\n\r\n;(global).mongoose = cached\r\n\r\nexport default dbConnect\r\n"],"names":[],"mappings":"AAAA,kBAAkB;;;;AAClB;;AAEA,MAAM,cAAc,QAAQ,GAAG,CAAC,WAAW;AAC3C,QAAQ,GAAG,CAAC,eAAgB;AAE5B,IAAI,CAAC,aAAa;IAChB,MAAM,IAAI,MAAM;AAClB;AAEA,IAAI,SAAS,AAAC,OAAQ,QAAQ,IAAI;IAAE,MAAM;IAAM,SAAS;AAAK;AAE9D,eAAe;IACb,IAAI,OAAO,IAAI,EAAE,OAAO,OAAO,IAAI;IAEnC,IAAI,CAAC,OAAO,OAAO,EAAE;QACnB,OAAO,OAAO,GAAG,yGAAA,CAAA,UAAQ,CAAC,OAAO,CAAC,aAAa;YAC7C,gBAAgB;QAClB;IACF;IAEA,OAAO,IAAI,GAAG,MAAM,OAAO,OAAO;IAClC,OAAO,OAAO,IAAI;AACpB;;AAEE,OAAQ,QAAQ,GAAG;uCAEN","debugId":null}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/GoMart/models/User.js"],"sourcesContent":["import mongoose, { Schema, model, models } from 'mongoose'\r\n\r\nconst UserSchema = new Schema({\r\n  email: { type: String, required: true, unique: true },\r\n  password: { type: String, required: true }, // Lưu password đã hash\r\n})\r\n\r\nconst User = models.User || model('User', UserSchema)\r\nexport default User\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,aAAa,IAAI,yGAAA,CAAA,SAAM,CAAC;IAC5B,OAAO;QAAE,MAAM;QAAQ,UAAU;QAAM,QAAQ;IAAK;IACpD,UAAU;QAAE,MAAM;QAAQ,UAAU;IAAK;AAC3C;AAEA,MAAM,OAAO,yGAAA,CAAA,SAAM,CAAC,IAAI,IAAI,CAAA,GAAA,yGAAA,CAAA,QAAK,AAAD,EAAE,QAAQ;uCAC3B","debugId":null}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/GoMart/app/api/register/route.js"],"sourcesContent":["import { NextResponse } from 'next/server'\r\nimport bcrypt from 'bcrypt'\r\nimport dbConnect from '@/lib/mongoose'\r\nimport User from '@/models/User'\r\n\r\nexport async function POST(req) {\r\n  await dbConnect()\r\n\r\n  const { email, password } = await req.json()\r\n\r\n  if (!email || !password) {\r\n    return NextResponse.json({ error: 'Email và mật khẩu là bắt buộc' }, { status: 400 })\r\n  }\r\n\r\n  // Kiểm tra email đã tồn tại chưa\r\n  const existingUser = await User.findOne({ email })\r\n  if (existingUser) {\r\n    return NextResponse.json({ error: 'Email đã được đăng ký' }, { status: 409 })\r\n  }\r\n\r\n  // Hash mật khẩu\r\n  const hashedPassword = await bcrypt.hash(password, 10)\r\n\r\n  // Tạo user mới\r\n  const newUser = await User.create({\r\n    email,\r\n    password: hashedPassword,\r\n  })\r\n\r\n  return NextResponse.json({ message: 'Đăng ký thành công', user: { email: newUser.email, id: newUser._id } }, { status: 201 })\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;AACA;;;;;AAEO,eAAe,KAAK,GAAG;IAC5B,MAAM,CAAA,GAAA,iHAAA,CAAA,UAAS,AAAD;IAEd,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,IAAI;IAE1C,IAAI,CAAC,SAAS,CAAC,UAAU;QACvB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAgC,GAAG;YAAE,QAAQ;QAAI;IACrF;IAEA,iCAAiC;IACjC,MAAM,eAAe,MAAM,gHAAA,CAAA,UAAI,CAAC,OAAO,CAAC;QAAE;IAAM;IAChD,IAAI,cAAc;QAChB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC7E;IAEA,gBAAgB;IAChB,MAAM,iBAAiB,MAAM,qGAAA,CAAA,UAAM,CAAC,IAAI,CAAC,UAAU;IAEnD,eAAe;IACf,MAAM,UAAU,MAAM,gHAAA,CAAA,UAAI,CAAC,MAAM,CAAC;QAChC;QACA,UAAU;IACZ;IAEA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;QAAE,SAAS;QAAsB,MAAM;YAAE,OAAO,QAAQ,KAAK;YAAE,IAAI,QAAQ,GAAG;QAAC;IAAE,GAAG;QAAE,QAAQ;IAAI;AAC7H","debugId":null}}]
}