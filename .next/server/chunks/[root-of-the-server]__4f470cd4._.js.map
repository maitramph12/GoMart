{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/GoMart/models/User.js"],"sourcesContent":["import mongoose, { Schema, model, models } from 'mongoose'\r\n\r\nconst UserSchema = new Schema({\r\n  email: { type: String, required: true, unique: true },\r\n  password: { type: String, required: true }, // Lưu password đã hash\r\n})\r\n\r\nconst User = models.User || model('User', UserSchema)\r\nexport default User\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,aAAa,IAAI,yGAAA,CAAA,SAAM,CAAC;IAC5B,OAAO;QAAE,MAAM;QAAQ,UAAU;QAAM,QAAQ;IAAK;IACpD,UAAU;QAAE,MAAM;QAAQ,UAAU;IAAK;AAC3C;AAEA,MAAM,OAAO,yGAAA,CAAA,SAAM,CAAC,IAAI,IAAI,CAAA,GAAA,yGAAA,CAAA,QAAK,AAAD,EAAE,QAAQ;uCAC3B","debugId":null}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/GoMart/app/api/login/route.js"],"sourcesContent":["import { NextResponse } from 'next/server'\r\nimport bcrypt from 'bcrypt'\r\nimport dbConnect from '@/lib/mongoose'\r\nimport User from '@/models/User'\r\n\r\nexport async function POST(req) {\r\n  await dbConnect()\r\n\r\n  const { email, password } = await req.json()\r\n\r\n  if (!email || !password) {\r\n    return NextResponse.json({ error: 'Email và mật khẩu là bắt buộc' }, { status: 400 })\r\n  }\r\n\r\n  const user = await User.findOne({ email })\r\n\r\n  if (!user) {\r\n    return NextResponse.json({ error: 'Email hoặc mật khẩu không đúng' }, { status: 401 })\r\n  }\r\n\r\n  const isPasswordCorrect = await bcrypt.compare(password, user.password)\r\n\r\n  if (!isPasswordCorrect) {\r\n    return NextResponse.json({ error: 'Email hoặc mật khẩu không đúng' }, { status: 401 })\r\n  }\r\n\r\n  // Ở đây bạn có thể tạo JWT hoặc session để trả về token\r\n  // Ví dụ trả về thông tin user đơn giản (KHÔNG trả password)\r\n  return NextResponse.json({ message: 'Đăng nhập thành công', user: { email: user.email, id: user._id } })\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;;;;AAEA;;;;;AAEO,eAAe,KAAK,GAAG;IAC5B,MAAM;IAEN,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,IAAI;IAE1C,IAAI,CAAC,SAAS,CAAC,UAAU;QACvB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAgC,GAAG;YAAE,QAAQ;QAAI;IACrF;IAEA,MAAM,OAAO,MAAM,gHAAA,CAAA,UAAI,CAAC,OAAO,CAAC;QAAE;IAAM;IAExC,IAAI,CAAC,MAAM;QACT,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAiC,GAAG;YAAE,QAAQ;QAAI;IACtF;IAEA,MAAM,oBAAoB,MAAM,qGAAA,CAAA,UAAM,CAAC,OAAO,CAAC,UAAU,KAAK,QAAQ;IAEtE,IAAI,CAAC,mBAAmB;QACtB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAiC,GAAG;YAAE,QAAQ;QAAI;IACtF;IAEA,wDAAwD;IACxD,4DAA4D;IAC5D,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;QAAE,SAAS;QAAwB,MAAM;YAAE,OAAO,KAAK,KAAK;YAAE,IAAI,KAAK,GAAG;QAAC;IAAE;AACxG","debugId":null}}]
}